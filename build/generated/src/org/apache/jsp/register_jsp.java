package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class register_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"en\">\n");
      out.write("<head>\n");
      out.write("    <meta charset=\"UTF-8\">\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("    <title>Register Account | UiTM Counselling</title>\n");
      out.write("    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n");
      out.write("    <style>\n");
      out.write("        :root {\n");
      out.write("            --uitm-purple: #42145F; \n");
      out.write("            --uitm-gold: #FFCC00;\n");
      out.write("            --bg-light: #f4f7fc; \n");
      out.write("            --white: #ffffff;\n");
      out.write("            --text-purple: #5D2E8C; \n");
      out.write("            --border-color: #e6e1f7;\n");
      out.write("            --input-bg: #fafbff;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }\n");
      out.write("        \n");
      out.write("        body { \n");
      out.write("            display: flex; \n");
      out.write("            justify-content: center; \n");
      out.write("            align-items: center; \n");
      out.write("            min-height: 100vh; \n");
      out.write("            background-color: var(--bg-light); \n");
      out.write("            padding: 40px 20px; \n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .auth-container { \n");
      out.write("            width: 100%; \n");
      out.write("            max-width: 850px; \n");
      out.write("            background: var(--white); \n");
      out.write("            border-radius: 20px; \n");
      out.write("            box-shadow: 0 15px 35px rgba(66, 20, 95, 0.1); \n");
      out.write("            overflow: hidden; \n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        /* Container untuk Link Navigasi */\n");
      out.write("        .auth-footer {\n");
      out.write("            text-align: center;\n");
      out.write("            margin-top: 10px;    /* Jarak dari elemen atas */\n");
      out.write("            margin-bottom: 25px; /* Jarak sebelum butang */\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Garisan Pemisah yang seragam */\n");
      out.write("        .auth-divider {\n");
      out.write("            border: 0;\n");
      out.write("            border-top: 1px solid #eee;\n");
      out.write("            margin-bottom: 20px;\n");
      out.write("            width: 100%;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .auth-footer p {\n");
      out.write("            color: #636e72;\n");
      out.write("            font-size: 0.95em;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .auth-footer a {\n");
      out.write("            color: var(--uitm-purple);\n");
      out.write("            font-weight: 700;\n");
      out.write("            text-decoration: none;\n");
      out.write("            margin-left: 5px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-header { \n");
      out.write("            background: var(--uitm-purple); \n");
      out.write("            color: var(--white); \n");
      out.write("            padding: 30px; \n");
      out.write("            text-align: center; \n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-header p {\n");
      out.write("            font-size: 1.2em;\n");
      out.write("            font-weight: 600;\n");
      out.write("            letter-spacing: 1px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .gold-divider { height: 6px; background-color: var(--uitm-gold); width: 100%; }\n");
      out.write("\n");
      out.write("        .form-content { padding: 40px 50px; }\n");
      out.write("\n");
      out.write("        /* Membetulkan masalah 'bersambung' dengan gap dan margin */\n");
      out.write("        .form-row { \n");
      out.write("            display: flex; \n");
      out.write("            flex-wrap: wrap; \n");
      out.write("            gap: 25px; \n");
      out.write("            margin-bottom: 25px; /* Jarak antara baris input */\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-group { \n");
      out.write("            flex: 1; \n");
      out.write("            min-width: calc(50% - 25px); /* Memastikan 2 input sebaris dengan gap */\n");
      out.write("            position: relative; \n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Untuk baris yang ada 3 input (Student ID, Faculty, Program) */\n");
      out.write("        .dynamic-section .form-row .form-group {\n");
      out.write("            min-width: calc(33.33% - 25px);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-group label { \n");
      out.write("            display: block; \n");
      out.write("            margin-bottom: 8px; \n");
      out.write("            color: var(--text-purple); \n");
      out.write("            font-weight: 700; \n");
      out.write("            font-size: 0.85em; \n");
      out.write("            text-transform: uppercase; \n");
      out.write("            letter-spacing: 0.5px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-group input { \n");
      out.write("            width: 100%; \n");
      out.write("            padding: 14px 16px; \n");
      out.write("            border: 2px solid var(--border-color); \n");
      out.write("            border-radius: 10px; \n");
      out.write("            font-size: 0.95em; \n");
      out.write("            background-color: var(--input-bg);\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-group input:focus {\n");
      out.write("            outline: none;\n");
      out.write("            border-color: var(--uitm-purple);\n");
      out.write("            background-color: var(--white);\n");
      out.write("            box-shadow: 0 0 0 4px rgba(66, 20, 95, 0.05);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* CSS Mata Password */\n");
      out.write("        input::-ms-reveal, input::-ms-clear, input::-webkit-contacts-auto-fill-button { display: none !important; }\n");
      out.write("\n");
      out.write("        .pass-toggle { \n");
      out.write("            position: absolute; \n");
      out.write("            right: 15px; \n");
      out.write("            top: 38px; /* Laraskan kedudukan ikon mata */\n");
      out.write("            cursor: pointer; \n");
      out.write("            color: #8B7BA6; \n");
      out.write("            z-index: 5;\n");
      out.write("            padding: 5px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Role Selection Box */\n");
      out.write("        .role-selection-box { \n");
      out.write("            background-color: #f8f9ff; \n");
      out.write("            padding: 25px 30px; \n");
      out.write("            border-radius: 15px; \n");
      out.write("            border: 2px dashed var(--border-color); \n");
      out.write("            margin: 30px 0; \n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .role-selection-box p {\n");
      out.write("            margin-bottom: 15px;\n");
      out.write("            font-weight: 800;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .dynamic-section { \n");
      out.write("            display: none; \n");
      out.write("            padding: 30px; \n");
      out.write("            background-color: #fffdf5; \n");
      out.write("            border-radius: 15px; \n");
      out.write("            border-left: 6px solid var(--uitm-gold); \n");
      out.write("            margin-bottom: 30px; \n");
      out.write("            box-shadow: 0 4px 12px rgba(0,0,0,0.03);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-register { \n");
      out.write("            width: 100%; \n");
      out.write("            padding: 18px; \n");
      out.write("            background: linear-gradient(135deg, var(--uitm-purple) 0%, #5D2E8C 100%);\n");
      out.write("            color: white; \n");
      out.write("            border: none; \n");
      out.write("            border-radius: 12px; \n");
      out.write("            font-weight: 700; \n");
      out.write("            text-transform: uppercase; \n");
      out.write("            cursor: pointer; \n");
      out.write("            transition: 0.3s; \n");
      out.write("            font-size: 1em;\n");
      out.write("            letter-spacing: 1px;\n");
      out.write("            margin-top: 10px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-register:hover { \n");
      out.write("            transform: translateY(-2px);\n");
      out.write("            box-shadow: 0 8px 20px rgba(66, 20, 95, 0.2);\n");
      out.write("            filter: brightness(1.1);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .error-banner { \n");
      out.write("            background: #fce4e4; \n");
      out.write("            color: #d63031; \n");
      out.write("            padding: 15px; \n");
      out.write("            border-radius: 10px; \n");
      out.write("            border: 1px solid #d63031; \n");
      out.write("            margin-bottom: 25px; \n");
      out.write("            font-weight: bold; \n");
      out.write("            text-align: center; \n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Responsif untuk Mobile */\n");
      out.write("        @media (max-width: 768px) {\n");
      out.write("            .form-group { min-width: 100%; }\n");
      out.write("            .dynamic-section .form-row .form-group { min-width: 100%; }\n");
      out.write("            .form-content { padding: 30px 25px; }\n");
      out.write("        }\n");
      out.write("    </style>\n");
      out.write("</head>\n");
      out.write("<body>\n");
      out.write("    <div class=\"auth-container\">\n");
      out.write("        <div class=\"form-header\"><p>UiTM STUDENT COUNSELLING SYSTEM</p></div>\n");
      out.write("        <div class=\"gold-divider\"></div>\n");
      out.write("        <div class=\"form-content\">\n");
      out.write("        ");
 
            String error = (String) request.getAttribute("errorMessage");
            if (error != null && !error.trim().isEmpty()) { 
        
      out.write("\n");
      out.write("            <div class=\"error-banner\">\n");
      out.write("                <i class=\"fas fa-exclamation-circle\"></i> ");
      out.print( error );
      out.write("\n");
      out.write("            </div>\n");
      out.write("        ");
 } 
      out.write("\n");
      out.write("            <form action=\"RegisterServlet\" method=\"POST\" onsubmit=\"return validateForm()\">\n");
      out.write("                <div class=\"form-row\">\n");
      out.write("                    <div class=\"form-group\">\n");
      out.write("                        <label>Username *</label>\n");
      out.write("                        <input type=\"text\" name=\"username\" placeholder=\"Enter username\" required>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"form-group\">\n");
      out.write("                        <label>Full Name *</label>\n");
      out.write("                        <input type=\"text\" name=\"fullname\" placeholder=\"Enter your full name\" required>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div class=\"form-row\">\n");
      out.write("                    <div class=\"form-group\">\n");
      out.write("                        <label>Email Address *</label>\n");
      out.write("                        <input type=\"email\" name=\"email\" placeholder=\"example@uitm.edu.my\" required>\n");
      out.write("                    </div>\n");
      out.write("                   <div class=\"form-group\">\n");
      out.write("                        <label>Phone Number *</label>\n");
      out.write("                        <input type=\"text\" \n");
      out.write("                               name=\"phone\" \n");
      out.write("                               id=\"phone\" \n");
      out.write("                               placeholder=\"01XXXXXXXX\" \n");
      out.write("                               required \n");
      out.write("                               oninput=\"this.value = this.value.replace(/[^0-9]/g, '');\">\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div class=\"form-row\">\n");
      out.write("                    <div class=\"form-group\">\n");
      out.write("                        <label>Password *</label>\n");
      out.write("                        <input type=\"password\" name=\"password\" id=\"p1\" placeholder=\"••••••••\" required>\n");
      out.write("                        <i class=\"fas fa-eye-slash pass-toggle\" onclick=\"togglePass('p1', this)\"></i>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"form-group\">\n");
      out.write("                        <label>Confirm Password *</label>\n");
      out.write("                        <input type=\"password\" name=\"confirm\" id=\"p2\" placeholder=\"••••••••\" required>\n");
      out.write("                        <i class=\"fas fa-eye-slash pass-toggle\" onclick=\"togglePass('p2', this)\"></i>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div class=\"role-selection-box\">\n");
      out.write("                    <p style=\"color:var(--text-purple); font-size:0.85em; text-transform:uppercase;\">Register As *</p>\n");
      out.write("                    <div style=\"display:flex; gap:50px; margin-top:10px;\">\n");
      out.write("                        <label style=\"cursor:pointer; display:flex; align-items:center; gap:8px;\">\n");
      out.write("                            <input type=\"radio\" name=\"role\" value=\"S\" checked onclick=\"showFields('S')\" style=\"accent-color:var(--uitm-purple); width:18px; height:18px;\"> \n");
      out.write("                            Student\n");
      out.write("                        </label>\n");
      out.write("                        <label style=\"cursor:pointer; display:flex; align-items:center; gap:8px;\">\n");
      out.write("                            <input type=\"radio\" name=\"role\" value=\"C\" onclick=\"showFields('C')\" style=\"accent-color:var(--uitm-purple); width:18px; height:18px;\"> \n");
      out.write("                            Counselor\n");
      out.write("                        </label>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div id=\"studentFields\" class=\"dynamic-section\" style=\"display: block;\">\n");
      out.write("                    <div class=\"form-row\">\n");
      out.write("                        <div class=\"form-group\"><label>Student ID *</label><input type=\"text\" name=\"studentID\" placeholder=\"202XXXXXXXXX\"></div>\n");
      out.write("                        <div class=\"form-group\"><label>Faculty *</label><input type=\"text\" name=\"faculty\" placeholder=\"e.g. FSKM\"></div>\n");
      out.write("                        <div class=\"form-group\"><label>Program *</label><input type=\"text\" name=\"program\" placeholder=\"e.g. CS240\"></div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div id=\"counselorFields\" class=\"dynamic-section\">\n");
      out.write("                    <div class=\"form-row\">\n");
      out.write("                        <div class=\"form-group\"><label>Counselor ID *</label><input type=\"text\" name=\"counselorID\" placeholder=\"C-XXXX\"></div>\n");
      out.write("                        <div class=\"form-group\"><label>Room No *</label><input type=\"text\" name=\"roomNo\" placeholder=\"e.g. G-01\"></div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("                \n");
      out.write("                <div style=\"text-align: center; margin-top: 25px; border-top: 1px solid #eee; padding-top: 20px;\">\n");
      out.write("                    <p style=\"color: #636e72; font-size: 0.95em;\">\n");
      out.write("                <div class=\"auth-footer\">\n");
      out.write("                        <hr class=\"auth-divider\">\n");
      out.write("                        <p>Already have an account? <a href=\"login.jsp\">Sign In Here</a></p>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                    <button type=\"submit\" class=\"btn-register\">Complete Registration</button>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <script>\n");
      out.write("        function showFields(role) {\n");
      out.write("            const s = document.getElementById('studentFields');\n");
      out.write("            const c = document.getElementById('counselorFields');\n");
      out.write("            s.style.display = (role === 'S') ? 'block' : 'none';\n");
      out.write("            c.style.display = (role === 'C') ? 'block' : 'none';\n");
      out.write("            setRequired(role === 'S' ? 'studentFields' : 'counselorFields', true);\n");
      out.write("            setRequired(role === 'S' ? 'counselorFields' : 'studentFields', false);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function setRequired(divId, isReq) {\n");
      out.write("            const inputs = document.getElementById(divId).getElementsByTagName('input');\n");
      out.write("            for(let i=0; i<inputs.length; i++) {\n");
      out.write("                if(isReq) inputs[i].setAttribute('required', 'required');\n");
      out.write("                else inputs[i].removeAttribute('required');\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function togglePass(id, el) {\n");
      out.write("            const input = document.getElementById(id);\n");
      out.write("            if (input.type === \"password\") { \n");
      out.write("                input.type = \"text\"; \n");
      out.write("                el.classList.replace('fa-eye-slash', 'fa-eye'); \n");
      out.write("            } else { \n");
      out.write("                input.type = \"password\"; \n");
      out.write("                el.classList.replace('fa-eye', 'fa-eye-slash'); \n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function validateForm() {\n");
      out.write("            if (document.getElementById(\"p1\").value !== document.getElementById(\"p2\").value) { \n");
      out.write("                alert(\"Passwords do not match!\"); \n");
      out.write("                return false; \n");
      out.write("            }\n");
      out.write("            return true;\n");
      out.write("        }\n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
